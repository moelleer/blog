---
title: TestJS Summit
description: Dag 1 i Berlin fÃ¶r kompetensutveckling. ğŸ‰
previewImage: https://i.imgur.com/rT0WRK3.png
---

# TestJS Summit

JÃ¤ttebra anordnad konferens som jag gÃ¤rna besÃ¶ker igen. Bra lokaler med bÃ¥de god fika, god mat och bra yta fÃ¶r sponsorer. Mycket av innehÃ¥llet kan vara svÃ¥rt fÃ¶r oss att bÃ¶rja anvÃ¤nda oss rakt av, men vissa saker kan vi absolut bÃ¶rja gÃ¶ra.

Lite allmÃ¤nna saker:

- `vitest` borde vi bÃ¶rja anvÃ¤nda oss av, framfÃ¶r allt i vÃ¥ra `next`-projekt dÃ¥ det kÃ¤nns som en vÃ¤ldigt lÃ¥g trÃ¶skel att komma Ã¶ver.
- Vi borde fÃ¶rsÃ¶ka implementera _one component one hook_ i vÃ¥ra React-projekt. BÃ¥de fÃ¶r att kunna underlÃ¤tta fÃ¶r eventuell testning och fÃ¶r att fÃ¥ en allmÃ¤nt bÃ¤ttre struktur, enklare komponenter att sÃ¤tta sig in i och underlÃ¤tta nÃ¤r andra utvecklare ska vidareutveckla pÃ¥ en site.

Skulle man vilja se pÃ¥ konferensen hittar man stream hÃ¤r: [TetsJS Summit](https://portal.gitnation.org/events/testjs-summit-2023/watch).

## FavoritfÃ¶relÃ¤sningar

### Component Testing With Vitest

- Bra fÃ¶relÃ¤sning med tydliga exempel hur man enkelt kan anvÃ¤nda sig av `vitest` fÃ¶r att testa sina komponenter.
- KÃ¤nns som en vÃ¤ldigt lÃ¥g trÃ¶skel fÃ¶r att komma igÃ¥ng med testning.
- Finns ett fÃ¤rdigt `next`-exempel med det uppsatt [pÃ¥ Next.js GitHub](https://github.com/vercel/next.js/tree/canary/examples/with-vitest).
- Inbyggt i flera av remix egna stackar, tex [hÃ¤r i Blues Stack](https://github.com/remix-run/blues-stack).

### Mock Service Worker 2.0

- Skaparen av [mswjs.io](https://mswjs.io/), intressant om version 2 av MSW och hur det nu bestÃ¥r av mycket mer  "vanlig" Javascript och inte massor andra saker som gÃ¶r att man behÃ¶ver lÃ¤ra sig massor nytt, istÃ¤llet fÃ¶r att lÃ¥ta Javascript gÃ¶ra de sjÃ¤lv.

### The Art of â€˜Humble Viewsâ€™: Testing React Native Apps the Smart Way

- Bra riktlinjer fÃ¶r hur man ska strukturera sin React-kod fÃ¶r att gÃ¶ra den sÃ¥ enkel som mÃ¶jligt att testa.
- _One component, one hook_ fÃ¶r att enklare kunna testa sina komponenter och hooks.

#### Exempel: One component, one hook

SÃ¥hÃ¤r kan ofta en komponent se ut efter att man har byggt den, med flera olika states som ofta Ã¤r vÃ¤ldigt sammankopplade.

```jsx
// component.tsx
export default function Component() {
  const [counter, setCounter] = useState(0);

  useEffect(() => {
    setTimeout(() => {
      setCounter(counter + 1);
    }, 1000);
  }, [counter]);

  return <div>Count is: {counter}</div>;
}
```

Genom att istÃ¤llet flytta ut alla hooks och alla statehantering till en egen hook fÃ¥r man betydligt bÃ¤ttre Ã¶verblick Ã¶ver sin komponent. Detta underlÃ¤ttar Ã¤ven nÃ¤r man sedan vill Ã¥teranvÃ¤nda funktionalitet mellan olika komponenter.

```tsx
// useCounter.ts
export function useCounter() {
  const [counter, setCounter] = useState(0);

  useEffect(() => {
    const timer = setTimeout(() => {
      setCounter(counter + 1);
    }, 1000);

    return () => clearTimeout(timer);
  }, [counter]);

  return { counter, setCounter };
}

// component.tsx
export default function Component() {
  const { counter, setCounter } = useCounter();

  return (
    <div>
      Count is: {counter}
      <button onClick={() => setCounter(0)}>Reset timer</button>
    </div>
  );
}
```
